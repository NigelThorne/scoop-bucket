{
    "version":  "8u65",
    "url":  "http://download.oracle.com/otn-pub/java/jdk/8u65-b17/jdk-8u65-windows-x64.exe",
    "hash":  "589633b8688ef7331a861a6d87487a82ed40bc6c287c4c567c4f91737c5011d5",
    "cookie":  {
                   "oraclelicense":  "accept-securebackup-cookie"
               },
    "pre_install":  "function unzip($file, $outdir) {\r\n    if (Test-Path $file) {\r\n        \u0026 7z x \"-o$outdir\" $file | Out-Null\r\n        Remove-Item $file\r\n    } else {\r\n        Write-Warning \"Unable to find $file\"\r\n    }\r\n}\r\n\n$target = \"$dir\\jdk-8u65-windows-x64.exe\"\r\nunzip $target $dir\r\n\r\n@(\u0027Tools.zip\u0027, \u0027installerexe\u0027) | % { unzip \"$dir\\$_\" $dir }\r\n\r\nwhile (1) {\r\n    try {\r\n\t\tWrite-Host \"Listing *.pack files\"\r\n        [array] $files = dir -Recurse \"$dir\\*.pack\" | Select -Expand FullName\r\n\t\tif ($files.Length -gt 0) {\r\n\t\t\t$files | % {\r\n\t\t\t\t$fp = $_\r\n\t\t\t\t$o = [IO.Path]::ChangeExtension($fp, \u0027jar\u0027)\r\n\t\t\t\tWrite-Host \"Unpacking $fp\"\r\n\t\t\t\t\u0026 \"$dir\\bin\\unpack200.exe\" $fp $o\r\n\t\t\t\tRemove-Item $fp\r\n\t\t\t}\r\n\t\t}\r\n        break\r\n    } catch {\r\n\t\t# It seems listing the *.pack files will get `Access denied` error initially, but will succeed after a while\r\n\t\t$interval = 5\r\n        Write-Warning \"$($_.Exception.Message), retrying in $interval seconds\"\r\n        Start-Sleep -seconds $interval\r\n    }\r\n}\r\n",
    "bin":  [
                "bin\\java.exe",
                "bin\\javac.exe",
                "bin\\javaw.exe"
            ],
    "depends":  [
                    "7zip"
                ]
}
